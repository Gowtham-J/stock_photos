{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","alt_description","likes","regular","urls","user","first_name","portfolio_url","medium","profile_image","links","portfolio","className","src","alt","href","clientID","process","App","useState","loading","setLoading","photos","setPhotos","page","setPage","query","setQuery","getPhotos","a","queryUrl","pageUrl","url","fetch","response","json","data","oldPhotos","results","console","log","useEffect","event","window","addEventListener","scrollY","innerHeight","document","body","scrollHeight","oldPage","removeEventListener","placeholder","type","value","onChange","e","target","onClick","preventDefault","map","item","index","ReactDOM","render","StrictMode","getElementById"],"mappings":"iPA6BeA,EA3BD,SAAC,GAUR,IATLC,EASI,EATJA,gBACAC,EAQI,EARJA,MACQC,EAOJ,EAPJC,KAAQD,QAOJ,IANJE,KACEC,EAKE,EALFA,WACAC,EAIE,EAJFA,cACiBC,EAGf,EAHFC,cAAiBD,OAGf,EADJE,MAASC,UAET,OACE,0BAASC,UAAU,QAAnB,UACE,qBAAKC,IAAKV,EAASW,IAAKb,IACxB,sBAAKW,UAAU,aAAf,UACE,gCACE,6BAAKN,IACL,8BAAIJ,EAAJ,eAEF,mBAAGa,KAAMR,EAAT,SACE,qBAAKM,IAAKL,EAAQI,UAAU,WAAWE,IAAI,cClB/CE,EAAQ,qBAAiBC,+CA8FhBC,MA1Ff,WACE,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAwBJ,mBAAS,GAAjC,mBAAOK,EAAP,KAAaC,EAAb,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAEMC,EAAS,uCAAG,oCAAAC,EAAA,6DAChBR,GAAW,GAGLS,EAJU,iBAIWJ,GACrBK,EALU,gBAKSP,GAGvBQ,EADEN,EACC,UAhBM,2CAgBN,OAAkBV,GAAlB,OAA6Be,GAA7B,OAAuCD,GAEvC,UAnBI,oCAmBJ,OAAgBd,GAAhB,OAA2Be,GAVhB,kBAcSE,MAAMD,GAdf,cAcRE,EAdQ,iBAeKA,EAASC,OAfd,QAeRC,EAfQ,OAgBdb,GAAU,SAACc,GACT,OAAIX,GAAkB,IAATF,EACJY,EAAKE,QAEN,GAAN,mBAAWD,GADFX,EACT,YAAyBU,EAAKE,SAE9B,YAAyBF,OAG7Bf,GAAW,GAzBG,kDA2BdkB,QAAQC,IAAR,MACAnB,GAAW,GA5BG,0DAAH,qDAwDf,OAxBAoB,qBAAU,WACRb,MAEC,CAACJ,IAEJiB,qBAAU,WACR,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,aAE1CxB,GAAWuB,OAAOE,QAAUF,OAAOG,cACrCC,SAASC,KAAKC,aAAe,GAE7BxB,GAAQ,SAACyB,GAAD,OAAaA,EAAU,QAGnC,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAEjD,IASD,iCACE,yBAAS9B,UAAU,SAAnB,SACE,uBAAMA,UAAU,cAAhB,UACE,uBACEwC,YAAY,SACZC,KAAK,OACLzC,UAAU,aACV0C,MAAO5B,EACP6B,SAAU,SAACC,GAAD,OAAO7B,EAAS6B,EAAEC,OAAOH,UAErC,wBAAQ1C,UAAU,aAAayC,KAAK,SAASK,QAjBhC,SAACF,GACpBA,EAAEG,iBAEFlC,EAAQ,IAcF,SACE,cAAC,IAAD,WAIN,yBAASb,UAAU,SAAnB,SACE,qBAAKA,UAAU,gBAAf,SACGU,EAAOsC,KAAI,SAACC,EAAMC,GACjB,OAAO,cAAC,EAAD,eAAuBD,GAAXC,UAIxB1C,GAAW,oBAAIR,UAAU,UAAd,4BCxFlBmD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlB,SAASmB,eAAe,W","file":"static/js/main.dcd5444a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Photo = ({\r\n  alt_description,\r\n  likes,\r\n  urls: { regular },\r\n  user: {\r\n    first_name,\r\n    portfolio_url,\r\n    profile_image: { medium },\r\n  },\r\n  links: { portfolio },\r\n}) => {\r\n  return (\r\n    <article className=\"photo\">\r\n      <img src={regular} alt={alt_description} />\r\n      <div className=\"photo-info\">\r\n        <div>\r\n          <h5>{first_name}</h5>\r\n          <p>{likes} likes</p>\r\n        </div>\r\n        <a href={portfolio_url}>\r\n          <img src={medium} className=\"user-img\" alt=\"\" />\r\n        </a>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Photo;\r\n","import React, { useState, useEffect } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport Photo from \"./Photo\";\n// const clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\nconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\nconst mainUrl = `https://api.unsplash.com/photos/`;\nconst searchUrl = `https://api.unsplash.com/search/photos/`;\n// XKToakipRqq-bMMAhdhVEI2iUc3zbT7G3sTihr0VLP0\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [photos, setPhotos] = useState([]);\n  const [page, setPage] = useState(0);\n  const [query, setQuery] = useState(\"\");\n\n  const getPhotos = async () => {\n    setLoading(true);\n\n    let url;\n    const queryUrl = `&query=${query}`;\n    const pageUrl = `&page=${page}`;\n\n    if (query) {\n      url = `${searchUrl}${clientID}${pageUrl}${queryUrl}`;\n    } else {\n      url = `${mainUrl}${clientID}${pageUrl}`;\n    }\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      setPhotos((oldPhotos) => {\n        if (query && page === 1) {\n          return data.results;\n        } else if (query) {\n          return [...oldPhotos, ...data.results];\n        } else {\n          return [...oldPhotos, ...data];\n        }\n      });\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getPhotos();\n    // eslint-disable-next-line\n  }, [page]);\n\n  useEffect(() => {\n    const event = window.addEventListener(\"scroll\", () => {\n      if (\n        (!loading && window.scrollY + window.innerHeight) >=\n        document.body.scrollHeight - 2\n      ) {\n        setPage((oldPage) => oldPage + 1);\n      }\n    });\n    return () => window.removeEventListener(\"scroll\", event);\n    // eslint-disable-next-line\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    setPage(1);\n  };\n\n  return (\n    <main>\n      <section className=\"search\">\n        <form className=\"search-form\">\n          <input\n            placeholder=\"search\"\n            type=\"text\"\n            className=\"form-input\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n          />\n          <button className=\"submit-btn\" type=\"submit\" onClick={handleSubmit}>\n            <FaSearch />\n          </button>\n        </form>\n      </section>\n      <section className=\"photos\">\n        <div className=\"photos-center\">\n          {photos.map((item, index) => {\n            return <Photo key={index} {...item} />;\n          })}\n        </div>\n      </section>\n      {loading && <h2 className=\"loading\">loading...</h2>}\n    </main>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}